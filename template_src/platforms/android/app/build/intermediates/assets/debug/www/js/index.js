!function(n){var e={};function t(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)t.d(i,a,function(e){return n[e]}.bind(null,a));return i},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e){var t="1.0.0",i="Mzi";({initialize:function(){document.addEventListener("deviceready",this.onDeviceReady.bind(this),!1)},onDeviceReady:function(){function n(n){console.log(n)}function e(n){return JSON.parse(n)}function a(n){return JSON.stringify(n)}function o(n){return"https://yoursite.com/web-api/"+n}function r(e){n("Error: "+e),$.notify(e,"error")}function s(e){n("Notification:"+e),$.notify(e,"success")}function l(n){Event.$emit("showView",n)}function c(n){return null!==localStorage.getItem(n)}function u(){return c("token")?e(localStorage.getItem("token")).access_token:""}function d(n,e){var t=!1;return"email"==n&&/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)&&(t=!0),"user-name"==n&&/^[a-zA-Z ]+$/.test(e)&&(t=!0),"link"==n&&/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)&&(t=!0),"phone"==n&&/^0[0-8]\d{8}$/g.test(e)&&(t=!0),"date"==n?"Invalid Date"!=e:"password"==n?!(e.length<6):t}function h(n,e){Event.$emit(n,e)}"android"==cordova.platformId&&StatusBar.backgroundColorByHexString("#333"),cordova.getAppVersion.getVersionNumber().then(function(n){t=n}),cordova.getAppVersion.getAppName().then(function(n){i=n,console.log(n+" v"+t)}),jQuery.loadScript=function(n,e,t){jQuery.ajax({url:n,dataType:"script",success:e,error:t,async:!0})},$.fn.setNow=function(n){var e,t=new Date($.now());return e=t.getFullYear()+"-"+(1===t.getMonth().toString().length?"0"+(t.getMonth()+1).toString():t.getMonth()+1)+"-"+(1===t.getDate().toString().length?"0"+t.getDate().toString():t.getDate())+"T"+(1===t.getHours().toString().length?"0"+t.getHours().toString():t.getHours())+":"+(1===t.getMinutes().toString().length?"0"+t.getMinutes().toString():t.getMinutes())+":"+(1===t.getSeconds().toString().length?"0"+t.getSeconds().toString():t.getSeconds()),!0===n&&$(this).val()?this:($(this).val(e),this)},window.Event=new Vue,Vue.component("explore",{data:function(){return{query:""}},template:'\n            <div>\n                <input type="text" class="form-control" placeholder="search here" v-model="query" />\n                <br><br>\n\n                <div v-show="query != \'\'" style="text-align: center">\n                    You have searched for <b v-text="query"></b>\n                </div>\n            </div>\n            '}),Vue.component("terms",{template:"\n            <div>\n                <ol>\n                    <li>Mzi Framework is an opensource framework. Users are free to modify the codebase\n                    to suid their needs\n                    </li>\n                </ol>\n            </div>\n            "}),Vue.component("contactform",{data:function(){return{names:"",email:"",message:""}},methods:{reset:function(){this.names="",this.email="",this.message=""},send:function(){if(""==this.names)return r("Invalid names"),!1;if(""==this.email)return r("Invalid email"),!1;if(""==this.message)return r("Invalid message"),!1;var e=this,t={name:this.names,email:this.email,message:this.message};$.ajax({type:"POST",url:o("contactUs"),data:t,success:function(t){0==t?(s("Thank you for contacting us"),e.reset()):(r("Failed to send message"),n(t))},error:function(e){r("Network error"),n(e)}})}},template:'\n            <div>\n                <div>\n                    <h6>Your names:</h6>\n                    <input type="text" v-model="names" class="form-control" value="">\n                </div>\n                <br>\n                <div>\n                    <h6>E-mail:</h6>\n                    <input type="email" v-model="email" class="form-control" value="">\n                </div>\n                <br>\n                <div>\n                    <h6>Message:</h6>\n                    <textarea class="form-control" v-model="message"></textarea>\n                </div>\n                <br>\n                <div>\n                    <a href="#" class="btn btn-sm btn-primary" @click="send">Send</a>\n\n                    <a href="#" class="btn btn-sm btn-danger right-side" @click="reset">Reset</a>\n                </div>\n            </div>\n            '}),Vue.component("profile",{data:function(){return{user:!1,refresher:!1}},computed:{imgsrc:function(){return this.user?"https://yoursite.com/images/profiles/"+this.user.avatar:"img/profiles/avatar.jpg"},email_verified:function(){return!!this.user&&null==this.user.email_verified_at}},methods:{navigate:function(n){l(n)},verifyMail:function(){$.ajax({type:"POST",url:o("resend-email-verification"),headers:{Authorization:"Bearer "+u()},success:function(e){0==e?s("Verification email sent"):(r("An error occured"),n(e))},error:function(e){r("Network error"),n(e)}})},refreshUser:function(){$.ajax({type:"POST",url:o("user"),headers:{Authorization:"Bearer "+u()},success:function(e){1==e?n("Failed to refresh user"):(localStorage.user=a(e),n("User refreshed"),h("user-refreshed",e))},error:function(e){n("Network error"),n(e)}})},changeProfile:function(){$("#profileImageUploader").click()},uploadProfile:function(){o("updateProfileImage");$("#profileImageForm").attr("action",o("updateProfileImage")),$("#profileImageForm").ajaxForm({headers:{Authorization:"Bearer "+u()},success:function(e,t,i,a){0==e?(h("refreshUser",!0),s("Profile image updated")):(r("Failed to update profile image"),n(e),n(t),n(i),n(a))},error:function(n,e,t){r("Network Error"),console.log(n,e,t)}}).submit()}},mounted:function(){var n=this;Event.$on("auth",function(){var t=e(localStorage.user);n.user=t,n.refresher=setInterval(n.refreshUser,1e4)}),Event.$on("refreshUser",function(e){0!=n.user?n.refreshUser():e&&r("Network Error")}),Event.$on("user-refreshed",function(e){n.user=e}),Event.$on("logout",function(e){clearInterval(n.refresher),n.is_a_driver=!1})},template:'\n                <div>\n\n                    <form method="post" id="profileImageForm" action="api/updateProfileImage" class="hidden" enctype="multipart/form-data">\n                        \n                        <input type="file" name="image" id="profileImageUploader" @change="uploadProfile">\n                        \n                    </form>\n\n                    <div class="profile-header">\n\n\n                        <img :src="imgsrc" @click="changeProfile">\n\n                        <div class="profile-details">\n                            <h5 v-text="user.name"></h5>\n                            <p>\n                                 {{ user.email }}\n                            </p>\n                            <button class="btn btn-sm btn-info" @click="navigate(\'editProfile\')">edit</button>\n                        </div>\n                        \n                    </div>\n                    \n                    \n\n                    <div class="profile-links">\n                        <div @click="verifyMail" v-if="email_verified" >\n                            Verify Email\n                            <span class="right-side bigger">></span>\n                        </div>\n                        <div @click="navigate(\'terms\')">\n                            Terms of Service\n                            <span class="right-side bigger">></span>\n                        </div>\n                        <div @click="navigate(\'contact\')" >\n                            Contact\n                            <span class="right-side bigger">></span>\n                        </div>\n                        <div @click="navigate(\'logout\')">\n                            Logout\n                            <span class="right-side bigger">></span>\n                        </div>\n                        \n                    </div>\n                    <br><br><br>\n                    \n                </div>\n            '}),Vue.component("editprofile",{template:'\n                <div>\n                    <div>\n                        <h6>Full Name:</h6>\n                        <input type="text" name="" class="form-control" id="editProfileName">\n                    </div>\n\n                    <br>\n\n                    <div>\n                        <h6>Phone:</h6>\n                        <input type="text" name="" class="form-control" maxlength="20">\n                    </div>\n\n                    <br>\n\n                    <div>\n                        <a href="#" class="btn btn-sm btn-primary">Update</a>\n                    </div>\n\n                    <br>\n\n                    <div>\n                        <h6>\n                            To recharge your account, use till number XXXXXX\n                        </h6>\n                    </div>\n                </div>\n            '}),Vue.component("home",{methods:{navigate:function(n){l(n)},share:function(){window.plugins.socialsharing.shareWithOptions({message:"check out Mzi Framework - Professional app scaffolding",subject:"Mzi Framework",files:["img/logo.png"],url:"https://mzi.eldoretartisans.club",chooserTitle:"Pick an app"},function(e){s("Thank you for sharing Mzi Framework"),n("Share completed? "+e.completed),n("Shared to app: "+e.app)},function(e){r("Couldn't share Mzi Framework"),n("Sharing failed with message: "+e)})}},template:'\n                <div>\n\n                <application-viewheader> \n                    Mzi Framework \n                </application-viewheader>\n\n                <p>\n\n                    Mzae Framework enables you to create a stable application in minutes. <br><br>\n\n                </p>\n\n                <br>\n                <p class="middle">\n                    <button class="btn btn-sm btn-success" @click="share">Spread the word</button>\n                </p>\n                <br>\n\n                <h5>What\'s included:</h5>\n                <ul>\n                    \n                    <li>Bootstrap - For easy styling</li>\n                    <li>Font Awesome - Wide collection of icons</li>\n                    <li>jQuery - Simple but robust functionalities</li>\n                    <li>Notify Js - in app popup notifications</li>\n                    <li>Vue JS - Two way data binding</li>\n                    <li>Webpack plugin  - src/js/app.js -> www/js/index.js</li>\n                    <li>Splashscreen plugin</li>\n                    <li>Social sharing plugin</li>\n                    <li>Notifications plugin - engage your users easily</li>\n                    <li>App version plugin</li>\n                    <li>Device plugin - know the user\'s device</li>\n                    <li>Status bar plugin - modify appearence of status bar</li>\n                    <li>Network information plugin</li>\n                    <li>Dialogs plugin - Native alerts, promts e.t.c</li>\n                    <li>Ionic keyboard plugin - Custom reliable keyboard</li>\n                    <li>Ionic webview plugin - Required for custom keyboard</li>\n                    <li>Browser sync - speed up development</li>\n                    <li>Vue Components - Quickly kickstart your application</li>\n                </ul>\n                \n\n                \n\n                <br>\n\n                <p class="middle">\n                    Take a look around, feel free to change things.\n                    <br>\n                    If you do not want a plugin, remove it by running: <br>\n                    <b>cordova plugin rm [plugin name]</b>\n                </p>\n                \n\n                \n                    \n                </div>\n            '}),Vue.component("about",{methods:{navigate:function(n){l(n)}},template:'\n            <div>\n\n                <p>\n                    Mzi framework is an opensource framework to speed up your app development. This framework was created by <a href="https://eldoretartisans.club">Eldoret Artisans</a>. To contribute to this framework, click <a href="https://mzi.eldoretartisans.club/contribute">here</a>.\n                </p>\n\n                <br>\n\n                <p>\n                    Mzi framework is highly customizable. For instance, the button below redirects the user to the contact page, or contact view, of the application. Its code is simple, utilizing the power of functional programming and vue js.\n                </p>\n\n                <br>\n                <p style="text-align: center">\n                <button @click="navigate(\'contact\')" class="btn btn-sm btn-success">Contact us</button>\n                </p>\n            </div>\n            '}),Vue.component("reset",{data:function(){return{email:"",input:!0,loading:!1}},methods:{navigate:function(n){l(n)},tryReset:function(){if(!d("email",this.email))return r("Invalid e-mail address"),!1;var e=this;e.input=!1,e.loading=!0,$.ajax({type:"POST",url:o("reset-password"),data:{email:this.email},success:function(t){var i;0==t?(n("Info:"+(i="Password reset succesfull")),$.notify(i,"info"),e.email="",l("login")):(r("Password reset failed!"),e.password="",n(t)),e.input=!0,e.loading=!1},error:function(t){r("Network error"),n(t),e.input=!0,e.loading=!1}})}},template:'\n                <div>\n\n                    <form>\n                                    \n                        <h5>\n                            E-mail address:\n                            <input type="email" v-model="email" class="form-control">\n                        </h5>\n                        <br>\n\n                        <h5 v-show="loading" id="resetText">Checking our database ...</h5>\n\n                        <h5 v-show="input">\n                            <a href="#" class="btn btn-sm btn-primary" @click="navigate(\'tryReset\')">Reset Password</a>\n                            <a href="#" class="btn btn-sm btn-link" @click="navigate(\'login\')">Login</a>\n                        </h5>\n                    </form>\n\n                    \n                    <h5 v-show="input">\n                    <br>\n                    <br>\n                        Don\'t have an account? \n                        <a href="#" class="btn btn-sm btn-success"  @click="navigate(\'register\')">Register Today</a>\n                    </h5>\n\n                </div>\n            '}),Vue.component("login",{data:function(){return{email:"",password:"",input:!0,loading:!1}},methods:{login:function(){if(!d("email",this.email))return r("Invalid e-mail address"),!1;if(!d("password",this.password))return r("Password too short"),!1;var e=this;e.input=!1,e.loading=!0,$.ajax({type:"POST",url:o("login"),data:{email:this.email,password:this.password},success:function(t){1==t?(r("Login Failed"),n(t)):(localStorage.token=a(t),Event.$emit("login-success",t),s("Welcome back"),e.reset()),e.input=!0,e.loading=!1},error:function(t){r("Network error"),n(t),e.input=!0,e.loading=!1}})},reset:function(){return this.password="",this.email="",!0},navigate:function(n){return l(n)}},template:'\n                <div>\n                    <h5>\n                        E-mail address:\n                        <input type="text" class="form-control" v-model="email">\n                    </h5>\n                    <br>\n\n                    <h5>\n                        Password:\n                        <input type="password" v-model="password" class="form-control">\n                    </h5>\n                    <br>\n\n                    <h5 v-show="loading">Logging you in securely ...</h5>\n\n                    <h5 v-show="input">\n                        <a href="#" class="btn btn-sm btn-primary" @click="login">Login</a>\n                        <a href="#" class="btn btn-sm btn-link" @click="navigate(\'reset\')">Forgot Password?</a>\n                        \n                    </h5>\n\n                    <br>\n                    <h5 v-show="input">Don\'t have an account? \n                    <a href="#" class="btn btn-sm btn-success" @click="navigate(\'register\')">Register Today</a>\n                    </h5>\n                    <br>\n                </div>\n            '}),Vue.component("register",{data:function(){return{names:"",email:"",password:"",input:!0,loading:!1}},methods:{navigate:function(n){l(n)},reset:function(){return this.names="",this.password="",this.email="",!0},register:function(){if(!d("user-name",this.names))return r("Name is invalid"),!1;if(!d("email",this.email))return r("Invalid e-mail address"),!1;if(!d("password",this.password))return r("Password too short"),!1;var e=this;e.input=!1,e.loading=!0,$.ajax({type:"POST",url:o("register"),data:{name:this.names,email:this.email,password:this.password,password_confirmation:this.password},success:function(t){0==t?(s("Registration success"),e.reset(),l("login")):(r("Registration Failed"),e.password="",n(t)),e.input=!0,e.loading=!1},error:function(t){r("Network error"),n(t),e.input=!0,e.loading=!1}})}},template:'\n                <div>\n                    \n\n                    <h5>\n                        Full Name:\n                        <input type="text" class="form-control" v-model="names">\n                    </h5>\n\n\n                    <h5>\n                        E-mail address:\n                        <input type="text" class="form-control" v-model="email">\n                    </h5>\n\n                    <h5>\n                        Password:\n                        <input type="password" class="form-control" v-model="password">\n                    </h5>\n\n                    <h5 v-show="loading" id="registerText">Creating your account ...</h5>\n\n                    <h5 v-show="input">\n                        <a href="#" class="btn btn-sm btn-primary" @click="register">Register</a>\n                        <span class="right-side">\n                            Have an account? \n                            <a href="#" class="btn btn-sm btn-success" @click="navigate(\'login\')">Login</a>\n                        </span>\n                    </h5>\n                </div>\n            '}),Vue.component("application-header",{data:function(){return{displayed:0}},methods:{showNav:function(){this.displayed="100%"},closeNav:function(){this.displayed="0%"},navigate:function(e){this.closeNav(),Event.$emit("showView",e),n("header navigating to "+e)}},template:'\n                \n\n                <div id="application-header">\n\n                    <h4 style="">\n\n                        <p id="backButton" class="hidden ">< Back</p>\n\n                        <i class="fa fa-bars right-side" @click="showNav" style="margin:0.8em 1em; display: block;"></i>\n\n                        <img src="img/logo.png" @click="navigate(\'home\')" >\n\n                        \n\n                        <div id="myNav" class="overlay" :style="{ width: displayed}">\n                            <a href="#" class="closebtn" @click="closeNav">&times;</a>\n                            <div class="overlay-content">\n                                <a href="#" @click="navigate(\'about\')">About</a>\n                                <a href="#" @click="navigate(\'contact\')">Contact</a>\n                                <a href="#" @click="navigate(\'terms\')">Terms</a>\n                                \n                            </div>\n                        </div>\n                    </h4>\n\n                </div>\n\n            '}),Vue.component("application-body",{data:function(){return{user:!1,views:[],view:"splash",history:[],route:"home",max:15}},methods:{display:function(n){for(var e=0;e<this.views.length;e++){var t=this.views[e];t.shown=t.name==n}this.view=n,this.history.push(n),Event.$emit("viewShown",n)}},template:'\n                \n                <div id="application-body">\n                    \n                    <slot></slot>\n\n                </div>\n\n            ',created:function(){this.views=this.$children;var e=this;Event.$on("auth",function(){e.user=!0,l(e.route)}),Event.$on("showView",function(t){if(n("Changing view to "+t),"logout"==t)return l("splash"),s("Logging you out"),e.user=!1,void Event.$emit("logout");for(var i=0;i<e.views.length;i++){var a=e.views[i];if(a.name==t){switch(a.auth){case"required":return e.user?(n("View change success :: with auth"),e.display(t)):(e.target=t,n("View change failed as auth is required for "+t),e.display("login"));case"none":if(!e.user)return n("View change success :: no auth"),e.display(t);r("Access restricted"),n("View change failed as user is authenticated "+t);break;default:return e.display(t)}break}}e.view=t}),Event.$on("login-success",function(e){$.ajax({type:"POST",url:o("user"),headers:{Authorization:"Bearer "+e.access_token},success:function(n){localStorage.user=a(n),Event.$emit("auth")},error:function(e){r("Login failed! try again later"),n(e)}})})},mounted:function(){var e=this;document.addEventListener("backbutton",function(t){"home"==e.view||"splash"==e.view?(n("Exiting application"),t.preventDefault(),navigator.app.exitApp()):(n("App exit aborted"),l("home"))},!1)}}),Vue.component("application-viewheader",{methods:{navigate:function(n){return l(n)}},template:'\n                \n                <h4 style="text-align: right">\n                    \n                    <slot></slot>\n\n                </h4>\n\n            '}),Vue.component("application-view",{props:{name:{required:!0},active:{default:!1},auth:{default:"all"}},data:function(){return{shown:this.active}},computed:{isActive:function(){return this.shown}},methods:{navigate:function(n){return l(n)}},template:'\n                \n                <div :class="[\'application-view \'+this.name]" v-show="shown" :name="name">\n                    \n                    <slot></slot>\n\n                </div>\n\n            '}),Vue.component("application-footer",{data:function(){return{shown:!0}},computed:{isShown:function(){return this.shown}},template:'\n                \n                <div id="application-footer" v-show="isShown">\n                    <slot></slot>\n                </div>\n\n            '}),Vue.component("application-footertab",{props:{name:{required:!0},icon:{required:!0},active:{default:!1}},data:function(){return{focus:this.active}},computed:{class_name:function(){return this.focus?"fa fa-"+this.icon+" active":"fa fa-"+this.icon}},template:'\n                \n                <div class="application-footerTab" :name="name" @click="goToPage(name)">\n                    <i :class="class_name"></i>\n                </div>\n\n            ',methods:{goToPage:function(n){Event.$emit("showView",n)}},mounted:function(){var n=this;Event.$on("viewShown",function(e){n.focus=n.name==e})}}),new Vue({el:"#application",data:{user:!1,launches:0},created:function(){$("#application").removeClass("hidden"),this.initialize(),0==this.launches&&cordova.plugins.notification.local.schedule({title:"Welcome to "+i+" v"+t,text:"Powered by Mzi Framework",foreground:!0}),this.launches+=1,localStorage.launches=a(this.launches),setInterval(this.loadData,1e4)},mounted:function(){this.testAuth(),setTimeout(l,1900,"home");var n=this;Event.$on("logout",function(){n.user=!1,c("user")&&localStorage.removeItem("user"),setTimeout(l,2500,"home")})},methods:{initialize:function(){this.loadData()},loadData:function(){c("user")&&(this.user=e(localStorage.user)),c("launches")&&(this.launches=e(localStorage.launches))},testAuth:function(){null!=localStorage.token&&null!=localStorage.user?(Event.$emit("auth"),n("authenticated user found")):n("No authenticated user")}}})}}).initialize()}]);